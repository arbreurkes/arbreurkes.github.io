(function(t){function e(e){for(var n,s,i=e[0],l=e[1],c=e[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/dataVis/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},3172:function(t,e,a){"use strict";a("64af")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("a026"),o=a("1157"),r=a.n(o),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("md-toolbar",{staticClass:"top-bar md-dense"},[a("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.showNavigation=!t.showNavigation}}},[a("md-icon",[t._v("menu")])],1),a("span",{staticClass:"md-title"},[t._v("2020 Election HQ - "+t._s(this.$route.name))]),a("md-avatar",{staticClass:"md-avatar-icon"}),a("md-button",{staticClass:"user-info",on:{click:function(e){t.disclaimerPrompt=!0}}},[t._v(" Disclaimer ")])],1),a("md-drawer",{staticClass:"md-drawer md-drawer--modal",attrs:{"md-active":t.showNavigation,"md-swipeable":""},on:{"update:mdActive":function(e){t.showNavigation=e},"update:md-active":function(e){t.showNavigation=e}}},[a("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[a("span",{staticClass:"md-title"},[t._v("Select attributes")])]),a("md-list",[a("md-list-item",[a("md-field",[a("label",{attrs:{for:"statOne"}},[t._v("Stat one")]),a("md-select",{attrs:{name:"statOne",id:"statOne"},model:{value:t.statOne,callback:function(e){t.statOne=e},expression:"statOne"}},[a("md-option",{attrs:{value:"election_lead"}},[t._v("election_lead")]),t._l(t.attributes,(function(e){return a("md-option",{key:e,attrs:{value:e,disabled:t.statTwo===e}},[t._v(t._s(e))])}))],2)],1)],1),a("md-list-item",[a("md-field",[a("label",{attrs:{for:"statTwo"}},[t._v("Stat two")]),a("md-select",{attrs:{name:"statTwo",id:"statTwo"},model:{value:t.statTwo,callback:function(e){t.statTwo=e},expression:"statTwo"}},[a("md-option",{attrs:{value:"None"}},[t._v("None")]),t._l(t.attributes,(function(e){return a("md-option",{key:e,attrs:{value:e,disabled:t.statOne===e}},[t._v(t._s(e))])}))],2)],1)],1)],1)],1),a("md-content",{staticClass:"main-content",attrs:{id:"main-content"}},[a("router-view")],1),a("md-dialog",{attrs:{"md-active":t.disclaimerPrompt},on:{"update:mdActive":function(e){t.disclaimerPrompt=e},"update:md-active":function(e){t.disclaimerPrompt=e}}},[a("md-dialog-title",[t._v("Disclaimer")]),a("md-dialog-content",[t._v(" No rights can be derived from the information on this website. ")]),a("md-dialog-actions",[a("md-button",{staticClass:"md-primary md-raised confirm-button",on:{click:function(e){t.disclaimerPrompt=!1}}},[t._v(" close ")])],1)],1)],1)},i=[],l=a("5530"),c=a("2f62"),u={name:"app",components:{},computed:{attributes:function(){return this.getAttributes()}},watch:{statOne:function(){this.setStatOne(this.statOne)},statTwo:function(){this.setStatTwo(this.statTwo)}},data:function(){return{showNavigation:!1,disclaimerPrompt:!1,statOne:"election_lead",statTwo:"None"}},mounted:function(){},methods:Object(l["a"])(Object(l["a"])({},Object(c["b"])(["getAttributes"])),Object(c["c"])(["setStatOne","setStatTwo"]))},d=u,p=(a("034f"),a("2877")),f=Object(p["a"])(d,s,i,!1,null,null,null),m=f.exports,h=a("8c4f"),v=a("43f9"),y=a.n(v);n["default"].use(c["a"]);var b=new c["a"].Store({state:{attributes:["DEM_votes","REP_votes","dem_votes_%","rep_votes_%","TotalPop","percentageMen","percentageWomen","Men","Women","Hispanic","White","Black","Native","Asian","Pacific","IncomePerCap","Income","Poverty","ChildPoverty","Unemployment"],statOne:"election_lead",statTwo:"None"},getters:{getAttributes:function(t){return t.attributes},getStatOne:function(t){return t.statOne},getStatTwo:function(t){return t.statTwo}},mutations:{setStatOne:function(t,e){return t.statOne=e},setStatTwo:function(t,e){return t.statTwo=e}},actions:{}}),g=(a("51de"),a("e094"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("states-card",{staticClass:"states-card",attrs:{title:"US States"}})],1)}),w=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"card"},[t.zoomed?a("md-button",{staticClass:"md-fab zoom-button",on:{click:t.clicked}},[a("md-icon",[t._v("zoom_out")])],1):t._e(),a("span",{staticClass:"map-title"},[a("span",{style:"DEM_votes"===t.statOne?"color:#439AD3;":"color:#C63432;"},[t._v(" "+t._s("election_lead"===t.statOne?"Republican":t.statOne))]),"election_lead"===t.statOne||"None"!==t.statTwo?a("span",[t._v(" vs. "),a("span",{staticStyle:{color:"#439AD3"}},[t._v(" "+t._s("election_lead"===t.statOne?"Democratic":t.statTwo)+" ")])]):t._e(),t._v(" "+t._s("election_lead"===t.statOne?"lead ":"")+"during 2020 presidential election "),a("md-icon",{staticClass:"info-icon"},[t._v("info "),a("md-tooltip",{attrs:{"md-direction":"bottom"}},[t._v("Click a state for more details.")])],1)],1),a("div",{attrs:{id:"map-"+this.hashCode}})],1)},O=[],F=(a("cb29"),a("4de4"),a("4160"),a("d81d"),a("13d5"),a("b680"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("159b"),a("2909")),T=a("ade3"),k=a("5698"),C=a("28ad"),j=a("d217"),x={name:"StatesCard",props:{title:String},data:function(){return{states:{},results:{},countyResults:{},color:{},countyColor:{},focusedState:null,visibleCounties:[],zoomed:!1,clicked:{},stateData:{},countyData:{}}},computed:{hashCode:function(){return window.hashCode(Math.round(1e5*Math.random())+"")},statOne:function(){return this.getStatOne()},statTwo:function(){return this.getStatTwo()}},watch:{statOne:function(){this.initializeMap()},statTwo:function(){this.statOne&&this.initializeMap()}},mounted:function(){var t=this,e=this;this.$nextTick((function(){k["j"]("body").append("div").attr("id","state-tt").attr("class","tooltip").style("opacity",0),k["e"]("/data/uscounties.json").then((function(a){k["a"]("/data/stateData.csv").then((function(n){k["a"]("/data/countyData.csv").then((function(o){e.states=a,e.stateData=n,e.countyData=o,e.results=n.reduce((function(t,e){return Object(l["a"])(Object(l["a"])({},t),{},Object(T["a"])({},e.state_id,e))}),{}),e.countyResults=o.reduce((function(t,e){return Object(l["a"])(Object(l["a"])({},t),{},Object(T["a"])({},e.id,e))}),{}),t.initializeMap()}))}))}))}))},methods:Object(l["a"])(Object(l["a"])({},Object(c["b"])(["getStatOne","getStatTwo"])),{},{initializeMap:function(){var t,e=this,a=this.$refs.card.scrollWidth,n=a/2.16,o=k["c"]().translate([a/2,n/2]).scale(a),r=k["d"](o);k["j"]("#map-"+e.hashCode).html("");var s=k["j"]("#map-"+e.hashCode).append("svg").attr("width",a).attr("height",n+36).attr("class","map-svg"),i=k["j"]("#state-tt");k["k"].prototype.moveToFront=function(){return this.each((function(){this.parentNode.appendChild(this)}))},k["k"].prototype.moveToBack=function(){return this.each((function(){var t=this.parentNode.firstChild;t&&this.parentNode.insertBefore(this,t)}))};var l=function(t,e){return t>e?1:t===e?0:-1},c=e.stateData.map((function(t){return parseFloat(t[e.statOne])})).sort(l),u=e.stateData.map((function(t){return parseFloat(t[e.statTwo])})).sort(l),d=(c.length/4).toFixed(0),p=(u.length/4).toFixed(0),f=[0,c[d],c[2*d],c[3*d],c[c.length-1]],m=[0,u[p],u[2*p],u[3*p],u[u.length-1]],h=e.countyData.map((function(t){return parseFloat(t[e.statOne])})).sort(l),v=e.countyData.map((function(t){return parseFloat(t[e.statTwo])})).sort(l),y=(h.length/4).toFixed(0),b=(v.length/4).toFixed(0),g=[0,h[y],h[2*y],h[3*y],h[h.length-1]],w=[0,v[b],v[2*b],v[3*b],v[u.length-1]];if("election_lead"===e.statOne&&"None"===e.statTwo)e.color=e.countyColor=k["i"]().domain([0,.4,.45,.5,.55,.6,1]).range(["#C63432","#E37D71","#F6BEB6","#C8DCf1","#8DBAE2","#439AD3"]);else if("None"!==e.statTwo||"DEM_votes"!==e.statOne&&"dem_votes_%"!==e.statOne)if("percentageMen"===e.statOne||"percentageWomen"===e.statOne)e.color=k["i"]().domain(f).range(["#FFFFFF","#FBD8D2","#F3B1A7","#E78A7E","#D86257","#C63432"]),e.countyColor=k["i"]().domain(g).range(["#FFFFFF","#FBD8D2","#F3B1A7","#E78A7E","#D86257","#C63432"]);else if("None"===e.statTwo)e.color=k["h"]().domain([0,c[c.length-1]]).range(["#FFFFFF","#C63432"]),e.countyColor=k["h"]().domain([0,h[h.length-1]]).range(["#FFFFFF","#C63432"]);else{var _=[["#dedede","#abc5d6","#76abcd","#3f90c5"],["#d3aaa9","#a297a3","#70839c","#3b6e96"],["#c77372","#99666e","#695869","#384a65"],["#b9312f","#8e2b2d","#62252b","#341f29"]];e.color=function(t){var e=function(t){return t<f[1]?0:t<f[2]?1:t<f[3]?2:3},a=function(t){return t<m[1]?0:t<m[2]?1:t<m[3]?2:3};return _[e(t[0])][a(t[1])]},e.countyColor=function(t){var e=function(t){return t<g[1]?0:t<g[2]?1:t<g[3]?2:3},a=function(t){return t<w[1]?0:t<w[2]?1:t<w[3]?2:3};return _[e(t[0])][a(t[1])]}}else e.color=k["h"]().domain([0,c[c.length-1]]).range(["#FFFFFF","#439AD3"]),e.countyColor=k["h"]().domain([0,h[h.length-1]]).range(["#FFFFFF","#439AD3"]);var O=function(t,a){if("election_lead"===e.statOne){var n=200*Math.abs(a-.5);return n<10?"<10%":n<20?"<20%":"20+%"}return t>1e7?(parseFloat(a)/1e6).toFixed(a>1e7?0:1)+"M":t>1e6?(parseFloat(a)/1e6).toFixed(1)+"M":t>1e4?parseInt(a)/1e3+"K":t>1e3?(parseFloat(a)/1e3).toFixed(1)+"K":t<=100&&t>10?parseFloat(a).toFixed(a>10?0:1)+"%":parseFloat(a).toFixed(1)+"%"},T=function(t){var a=function(e){var a=e.id.toString().replace("county","");return a===t||a.length===t.length+3&&a.substr(0,t.length)===t.toString()};e.visibleCounties=Object(F["a"])(s.selectAll("path")._groups[0]).filter(a),e.visibleCounties.forEach((function(t){var a=t.id.replace("county","");if(e.countyResults[a]){var n=e.countyResults[a][e.statOne];"None"!==e.statTwo&&(n=[n,e.countyResults[a][e.statTwo]]);var o=""!==n||null;t.style.display="block",t.style.fill=o?e.countyColor(n):"#888888"}else t.style.fill="#888888"}))},x=function(o){if(e.focusedState&&(e.focusedState.style.display="block"),e.visibleCounties.forEach((function(t){t.style.display="none"})),o.target.__data__){var i,l,c,u=o.target.__data__;if(e.focusedState=o.target,e.focusedState.style.display="none",u&&t!==u){var d=r.centroid(u);i=d[0],l=d[1],c=3,t=u,e.zoomed=!0}T(u.id.toString())}else i=a/2,l=n/2,c=1,t=null,e.zoomed=!1;s.selectAll("path").classed("active",t&&function(){return u===t}),s.transition().duration(750).attr("transform","scale("+c+")translate("+(a/2-i)+","+(n/2-l)+")")};if(e.clicked=x,s.append("g").selectAll("path").data(j["a"](e.states,e.states.objects.counties).features).enter().append("path").attr("d",r).attr("id",(function(t){return"county"+t.id})).attr("display","none").style("stroke","#BBBBBB").style("stroke-width","1").style("fill","#888888").on("mouseover",(function(t){var a=t.target.__data__,n=k["j"](t.target);n.moveToFront(),k["j"](t.target).transition().duration(300).style("stroke","#000").style("stroke-width",1.5),i.transition().duration(300).style("opacity",1),i.text(""!==e.countyResults[a.id]["county"]?e.countyResults[a.id]["county"]+": "+O(h[h.length-1],e.countyResults[a.id][e.statOne])+("None"!==e.statTwo?", "+O(v[v.length-1],e.countyResults[a.id][e.statTwo]):""):"No Data").style("left",t.pageX+"px").style("top",t.pageY-30+"px").style("opacity",1)})).on("mouseout",(function(t){var e=t.target,a=k["j"](e);a.moveToBack(),k["j"](e).transition().duration(300).style("stroke","#BBB").style("stroke-width",1),i.transition().duration(300).style("opacity",0)})),s.append("g").selectAll("path").data(j["a"](e.states,e.states.objects.states).features).enter().append("path").attr("d",r).attr("id",(function(t){return"state"+t.id})).style("stroke","#BBBBBB").style("stroke-width","1").style("fill",(function(t){if(e.results[t.id]){var a=e.results[t.id][e.statOne];"None"!==e.statTwo&&(a=[a,e.results[t.id][e.statTwo]]);var n=""!==a||null;return n?e.color(a):"#888888"}return"#888888"})).on("mouseover",(function(t){var a=t.target.__data__,n=k["j"](t.target);n.moveToFront(),k["j"](t.target).transition().duration(300).style("stroke","#000").style("stroke-width",1.5),i.transition().duration(300).style("opacity",1),i.text(""!==e.results[a.id]["state"]?e.results[a.id]["state"]+": "+O(c[c.length-1],e.results[a.id][e.statOne])+("None"!==e.statTwo?", "+O(u[u.length-1],e.results[a.id][e.statTwo]):""):"No Data").style("left",t.pageX+"px").style("top",t.pageY-30+"px").style("opacity",1)})).on("mouseout",(function(t){var e=t.target,a=k["j"](e);a.moveToBack(),k["j"](e).transition().duration(300).style("stroke","#BBB").style("stroke-width",1),i.transition().duration(300).style("opacity",0)})).on("click",(function(t){x(t)})),"None"===e.statTwo){s.append("g").attr("class","legendLinear").attr("transform","translate("+(a/2-110)+", "+n+")");var S=Object(C["a"])().shapeWidth(30).cells(6).labels((function(t){return O(t.domain[1],"election_lead"===e.statOne?[0,.41,.46,.5,.55,.61,1][t.i]:t.generatedLabels[t.i])})).labelFormat(k["b"](".2f")).orient("horizontal").scale(e.color);s.select(".legendLinear").call(S)}else{var D=k["g"](16).map((function(t){var a=t%4,n=Math.floor(t/4),o=e.color([f[a],m[n]]);return{x:a,y:n,color:o}})),B=30,N=s.append("g").attr("class","legendLinear").attr("transform","translate("+(a-220)+", "+(n-100)+") rotate(-135)");N.selectAll("rect").data(D).enter().append("rect").attr("x",(function(t){return t.x*B})).attr("y",(function(t){return t.y*B})).attr("width",B).attr("height",B).attr("fill",(function(t){return t.color})),N.append("defs").append("marker").attr("id","arrow").attr("legendLinear",[0,0,10,10]).attr("refX",5).attr("refY",5).attr("markerWidth",10).attr("markerHeight",10).attr("orient","auto-start-reverse").append("path").attr("d",k["f"]()([[0,0],[0,10],[10,5]])).attr("stroke","black"),N.append("path").attr("d",k["f"]()([[0,0],[0,120]])).attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none"),N.append("text").attr("y",14).attr("x",-60).attr("text-anchor","middle").attr("class","myLabel").text(e.statOne).attr("transform","rotate(-180)"),N.append("path").attr("d",k["f"]()([[0,0],[120,0]])).attr("stroke","black").attr("marker-end","url(#arrow)").attr("fill","none"),N.append("text").attr("y",14).attr("x",60).attr("text-anchor","middle").attr("class","myLabel").text(e.statTwo).attr("transform","rotate(90)")}}})},S=x,D=(a("b4fe"),a("3172"),Object(p["a"])(S,_,O,!1,null,"5e5a0e34",null)),B=D.exports,N={name:"Statistics",components:{StatesCard:B},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{}},A=N,M=(a("5df3"),Object(p["a"])(A,g,w,!1,null,null,null)),P=M.exports;window.$=r.a,n["default"].use(h["a"]),n["default"].use(y.a),n["default"].config.productionTip=!1,window.hashCode=function(t){for(var e=0,a=0;a<t.length;a++){var n=t.charCodeAt(a);e=(e<<5)-e+n,e&=e}return e};e["default"]={name:"app",components:{}};var E=[{path:"/",name:"Statistics",component:P,props:{}}],z=new h["a"]({routes:E});new n["default"]({name:"Home",el:"#app",router:z,store:b,template:"<App/>",components:{App:m}}).$mount("#app")},"5df3":function(t,e,a){"use strict";a("c857")},"64af":function(t,e,a){},"85ec":function(t,e,a){},a0e5:function(t,e,a){},b4fe:function(t,e,a){"use strict";a("a0e5")},c857:function(t,e,a){}});
//# sourceMappingURL=app.abeb00c8.js.map